<div class="room-container">
  <h3>Room Code: {{ roomCode }}</h3>

  <h4>Players</h4>

  <mat-chip-listbox aria-label="Player list">
    @for (player of players; track player) {
      <mat-chip [ngClass]="{ 'ready-chip': isPlayerReady(player) }">
        {{ player.username }} ({{ player.language }})
      </mat-chip>
    }
  </mat-chip-listbox>

  <h3 *ngIf="!currentRound">Rounds Not Started</h3>
  <button
    mat-raised-button
    color="primary"
    *ngIf="showReadyButton()"
    [disabled]="!canStart()"
    (click)="declarePlayerReady()"
  >
    Ready
  </button>

  <div id="hello-component-host"></div>
  <div id="round-container">
    <h3 *ngIf="currentRound">Round {{ currentRoundNumber }}</h3>
    <p>Round {{ currentRoundNumber }} Details:</p>
    <p>started at: {{ currentRound.startAt }}</p>
    <p>state: {{ currentRound.state }}</p>
  </div>
  <mat-progress-bar
    mode="determinate"
    [value]="progressValue"
  ></mat-progress-bar>
  <button
    mat-raised-button
    color="primary"
    *ngIf="showSubmitButton()"
    (click)="submitRoundAnswer()"
  >
    Submit
  </button>

  <mat-spinner *ngIf="roomIsLoading"></mat-spinner>
</div>
